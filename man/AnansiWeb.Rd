% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AnansiWeb-constructors.R
\name{weaveWeb}
\alias{weaveWeb}
\alias{weaveWeb.formula}
\alias{weaveWeb.default}
\alias{AnansiWeb}
\alias{weaveKEGG}
\alias{randomWeb}
\title{Make an AnansiWeb}
\usage{
\method{weaveWeb}{formula}(formula, link = NULL, tableX = NULL, tableY = NULL, ...)

\method{weaveWeb}{default}(x, y, link = NULL, tableX = NULL, tableY = NULL, ...)

AnansiWeb(tableX, tableY, dictionary)

weaveKEGG(x, ...)

randomWeb(
  n_samp = 10,
  n_x = 8,
  n_y = 12,
  density = 0.1,
  tableY = NULL,
  tableX = NULL,
  dictionary = NULL
)
}
\arguments{
\item{x, y}{\code{Character scalar}, names of feature types that should be
linked. Should be found in the column names of \code{link}.}

\item{...}{further arguments.}

\item{formula}{\code{formula} of the form y ~ x, denoting desired output
format; assigns y to rows and columns to x. Equivalent to using \code{x}
and \code{y} arguments.}

\item{link}{One of the following:
\itemize{
 \item \code{Character scalar} with value \code{"none"}.
 \item \code{data.frame} with two columns
 \item \code{list} with two such \code{data.frame}s.
}}

\item{tableY, tableX}{A table containing features of interest. Rows should be
samples and columns should be features. Y and X refer to the position of
the features in a formula: Y ~ X.}

\item{dictionary}{A binary adjacency matrix of class \code{Matrix}, or
coercible to \code{Matrix}}
}
\value{
an \code{AnansiWeb} object, with sparse binary biadjacency matrix
with features from \code{y} as rows and features from \code{x} as columns in
\code{dictionary} slot.
}
\description{
Generate a biadjacency matrix, linking the features between two tables.
Return an \code{AnansiWeb} object which contains all three.

\code{weaveWeb()} is for general use and has flexible default settings.

\code{weaveKEGG()} is a wrapper that sets \code{link} to \code{kegg_link()}.
All variants are special cases of \code{weaveWeb()}.

\code{AnansiWeb()} constructs an \code{AnansiWeb} object from three tables.
}
\details{
If the \code{link} argument is \code{"none"}, all features will be considered
linked. If one or more \code{data.frame}s, colnames should be as specified in
\code{x} and \code{y}.
}
\examples{
# Basic usage
weaveWeb(cpd ~ ko, link = kegg_link())
weaveWeb(x = "ko", y = "ec", link = ec2ko)
weaveWeb(ec ~ cpd, link = ec2cpd)

# use AnansiWeb() to constuct an AnansiWeb object from components:

tX <- `colnames<-`(replicate(5, (rnorm(36))), letters[1:5])
tY <- `colnames<-`(replicate(3, (rnorm(36))), LETTERS[1:3])
d <- matrix(TRUE, nrow = NCOL(tY), ncol = NCOL(tX),
            dimnames = list(y = colnames(tY), x = colnames(tX)))

AnansiWeb(tableX = tX, tableY = tY, dictionary = d)

# A wrapper is available for kegg ko, ec and cpd data
generic      <- weaveWeb(cpd ~ ko, link = kegg_link())
kegg_wrapper <- weaveKEGG( cpd ~ ko )

identical(generic, kegg_wrapper)

# The following are equivalent to transposition:
a <- weaveWeb(ko ~ cpd, link = kegg_link())$dictionary
b <- weaveWeb(cpd ~ ko, link = kegg_link())$dictionary

identical(a, Matrix::t(b))

# Make a random AnansiWeb object

# random dictionary
dictionary <- weaveWeb(a ~ c, link = randomLinkMap() )$dictionary
# AnansiWeb
web <- randomWeb(n_samp = 100, dictionary = dictionary)
mae <- as(web, "MultiAssayExperiment")
}
\seealso{
\itemize{
 \item \code{\link{AnansiWeb-methods}}: For utility functions to get and set.
 \item \code{\link{kegg_link}}: For examples of input for link argument.
 \item \code{\link{getWeb}}: For
 \code{\link[MultiAssayExperiment]{MultiAssayExperiment}} methods.
}
}
